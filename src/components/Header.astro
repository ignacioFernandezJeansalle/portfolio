---
import OpenMenu from "@icons/OpenMenu.astro";
import CloseMenu from "@icons/CloseMenu.astro";
import Experience from "@icons/Experience.astro";
import Projects from "@icons/Projects.astro";
import About from "@icons/About.astro";
import Contact from "@icons/Contact.astro";

const NAV_SECTIONS = [
  {
    label: "Experiencia",
    href: "/#experiencia",
    icon: Experience,
  },
  {
    label: "Proyectos",
    href: "/#proyectos",
    icon: Projects,
  },
  {
    label: "Sobre m√≠",
    href: "/#sobre-mi",
    icon: About,
  },
  {
    label: "Contacto",
    href: "/#contacto",
    icon: Contact,
  },
];
---

<header class="fixed top-0 left-0 w-full z-10 h-14 bg-slate-900 border-b border-slate-700">
  <nav class="max-w-5xl px-8 mx-auto h-full flex justify-between items-center">
    <a class="text-3xl text-slate-300 font-semibold hover:text-green-500" href="/" aria-label="Ir al inicio">IFJ</a>

    <div
      id="navMenu"
      class="fixed top-0 left-[-200%] bg-slate-900 bottom-0 w-full transition-[left] sm:static sm:w-auto sm:bg-transparent"
    >
      <ul class="py-24 w-full flex flex-col gap-y-8 sm:gap-x-2 md:gap-x-4 sm:flex-row sm:py-0">
        {
          NAV_SECTIONS.map((section) => (
            <li class="py-1 px-8 sm:py-0 sm:px-1">
              <a
                class=" hover:text-green-500 text-3xl sm:text-base md:text-lg"
                href={section.href}
                aria-label={section.label}
              >
                <span class="flex items-center gap-x-2">
                  <section.icon class="size-7 sm:size-6 stroke-1" />
                  {section.label}
                </span>
              </a>
            </li>
          ))
        }
      </ul>

      <button id="navBtnClose" class="absolute top-4 right-4 text-slate-300 hover:text-green-500 sm:hidden">
        <CloseMenu />
      </button>
    </div>

    <button id="navBtnOpen" class="text-slate-300 hover:text-green-500 sm:hidden">
      <OpenMenu />
    </button>
  </nav>
</header>

<script>
  const $navMenu = document.getElementById("navMenu");
  const $navBtnOpen = document.getElementById("navBtnOpen");
  const $navBtnClose = document.getElementById("navBtnClose");

  $navBtnOpen?.addEventListener("click", (event) => {
    event.stopPropagation();
    $navMenu?.classList.remove("left-[-200%]");
    $navMenu?.classList.add("left-0");
  });

  $navBtnClose?.addEventListener("click", (event) => {
    event.stopPropagation();
    $navMenu?.classList.remove("left-0");
    $navMenu?.classList.add("left-[-200%]");
  });
</script>
