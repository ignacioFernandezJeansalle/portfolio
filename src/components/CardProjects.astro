---
import LinkButton from "@/components/LinkButton.astro";
import Pill from "@/components/Pill.astro";

import IconGithubRepo from "@/icons/IconGithubRepo.astro";
import IconLink from "@/icons/IconLink.astro";

const { element } = Astro.props;

const {
  position,
  company,
  date,
  description,
  descriptionImg,
  descriptionImgAlt,
  tags,
  thumbnail,
  thumbnailAlt,
  repository,
  deploy,
} = element;
---

<article class="mt-10 flex flex-col md:flex-row gap-6 p-4 sm:p-6 bg-slate-200 rounded">
  <div class="flex flex-col">
    <h3 class="text-6xl text-cblue-700 font-light mb-6 uppercase">{position}</h3>
    <h4 class="text-sm w-fit rounded px-2 py-1 bg-slate-50 font-medium mb-2">{company}</h4>
    <span class="text-sm border-b border-slate-400 pb-4">{date}</span>
    <p class="pt-2 mb-6" set:html={description} />
    {
      descriptionImg && (
        <img
          class="w-[160px] sm:w-[200px] h-auto aspect-[360/160] rounded mb-10"
          src={descriptionImg}
          alt={descriptionImgAlt}
        />
      )
    }
    <ul class="flex flex-wrap gap-2">
      {
        tags.map((tag) => (
          <Pill class="bg-slate-300">
            <tag.icon class="w-3 h-auto" /> {tag.name}
          </Pill>
        ))
      }
    </ul>
  </div>

  <div class="flex-shrink-0">
    <img
      class="w-full md:w-[320px] min-[850px]:w-[400px] lg:w-[500px] h-auto aspect-video rounded"
      src={thumbnail}
      alt={thumbnailAlt}
    />
    <nav class="flex flex-wrap justify-end gap-4 mt-8">
      <LinkButton href={repository} ariaLabel="Ir al repositorio de GitHub" class="btn-secondary">
        <IconGithubRepo class="size-4" />
        <span>Repositorio</span>
      </LinkButton>
      <LinkButton href={deploy} ariaLabel="Visitar la web" class="btn-secondary">
        <IconLink class="size-4" />
        <span>Web</span>
      </LinkButton>
    </nav>
  </div>
</article>
