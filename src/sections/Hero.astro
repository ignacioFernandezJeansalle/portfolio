---
import { LINKS } from "@/data/links";
import Section from "@/components/Section.astro";
import Pill from "@/components/Pill.astro";
import IconLinkedin from "@/icons/IconLinkedin.astro";
import IconGithub from "@/icons/IconGithub.astro";
import IconCopy from "@/icons/IconCopy.astro";
import IconCV from "@/icons/IconCV.astro";
---

<div class="min-h-svh bg-cblue-700">
  <Section class="text-slate-50">
    <header class="pt-40 sm:pt-48 flex flex-col sm:flex-row justify-between gap-6">
      <div class="order-2 sm:order-1">
        <h1
          class="max-w-xl text-4xl min-[350px]:text-5xl min-[420px]:text-6xl min-[540px]:text-7xl min-[820px]:text-8xl font-light uppercase mb-4"
        >
          Ignacio Fern√°ndez Jeansalle
        </h1>
        <p class="text-xs sm:text-base font-semibold text-balance">Desarrollador de software</p>
      </div>
      <img
        src="/img/profile-pic.png"
        alt="Foto de perfil de Ignacio Fern√°ndez Jeansalle"
        class="order-1 sm:order-2 size-20 min-[500px]:size-28 md:size-36 min-[830px]:size-40 min-[900px]:size-52 rounded"
      />
    </header>
    <main class="pt-12 sm:pt-20">
      <p class="max-w-2xl text-base md:text-xl text-pretty">
        <span class="font-semibold">+17 a√±os</span> de experiencia como desarrollador de software de PLC y desarrollo UX/UI
        en HMI/SCADA de m√°quinas industriales y l√≠neas de producci√≥n üè≠. <span class="font-semibold">+3 a√±os</span> desarrollando
        software web üíª.
      </p>
    </main>
    <footer class="pt-10 pb-20">
      <div class="flex flex-wrap gap-3">
        <Pill
          href={LINKS.linkedin}
          ariaLabel="Ir al perfil de LinkedIn"
          class="bg-cblue-900 text-slate-50 hover:text-slate-200"
        >
          <IconLinkedin class="size-4" />
          <span>Linkedin</span>
        </Pill>
        <Pill
          href={LINKS.github}
          ariaLabel="Ir al perfil de GitHub"
          class="bg-cblue-900 text-slate-50 hover:text-slate-200"
        >
          <IconGithub class="size-4" />
          <span>Github</span>
        </Pill>
        <button
          id="copy-to-clipboard"
          class="px-4 py-1 h-full flex items-center gap-x-1 sm:gap-x-2 rounded-xl hover:scale-105 text-sm sm:text-base bg-cblue-900 text-slate-50 hover:text-slate-200"
        >
          <IconCopy class="size-4" />
          <span>{LINKS.gmail}</span>
        </button>
        <Pill
          href="/cv/CV Ignacio Fern√°ndez Jeansalle.pdf"
          ariaLabel="Ir al Curriculum Vitae"
          class="bg-cblue-900 text-slate-50 hover:text-slate-200"
        >
          <IconCV class="size-4" />
          <span>CV</span>
        </Pill>
      </div>
      <div class="flex flex-wrap gap-4 mt-4"></div>
    </footer>
  </Section>
</div>

<script>
  const mail = "ignaciofj@gmail.com";
  const $btnCopyToClipboard = document.getElementById("copy-to-clipboard");
  const $spanText = $btnCopyToClipboard.getElementsByTagName("span");

  const changeTextButton = () => {
    $spanText[0].innerHTML = "Copiado ‚úÖ";
    setTimeout(() => {
      $spanText[0].innerHTML = mail;
    }, 1500);
  };

  const copyToClipboard = () => {
    navigator.clipboard.writeText(mail).then(changeTextButton);
  };

  $btnCopyToClipboard.addEventListener("click", copyToClipboard);
</script>
